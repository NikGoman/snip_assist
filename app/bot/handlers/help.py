from aiogram import Router
from aiogram.types import Message, CallbackQuery
from aiogram.filters import Command
from app.bot.keyboards.main import get_main_keyboard

router = Router()

HELP_TEXT = (
    "üåå **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –°–ù–∏–ü –∏ –ì–û–°–¢**\n\n"
    "–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–æ—Ä–∞–±–∞–º –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞–º –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å "
    "–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–ì–û–°–¢/–°–ù–ò–ü) —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏.\n\n"
    
    "üîç **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**:\n"
    "1. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: \"–ö–∞–∫–æ–π –ì–û–°–¢ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—â–∏–Ω—É –±–µ—Ç–æ–Ω–Ω–æ–π –ø–ª–∏—Ç—ã?\"\n"
    "2. –ë–æ—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à –∑–∞–ø—Ä–æ—Å –∏ –Ω–∞–π–¥—ë—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑–µ.\n"
    "3. –í—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã.\n\n"

    "üí° **–°–æ–≤–µ—Ç—ã**:\n"
    "- –ó–∞–¥–∞–≤–∞–π—Ç–µ —Ç–æ—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–ø–æ–º–∏–Ω–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ì–û–°–¢/–°–ù–∏–ü, –µ—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ –Ω–æ–º–µ—Ä)\n"
    "- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º —Ä–µ–¥–∞–∫—Ü–∏—è–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n\n"

    "üí≥ **–ü–æ–¥–ø–∏—Å–∫–∞**:\n"
    "–û—Ñ–æ—Ä–º–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –∑–∞ $29/–º–µ—Å –¥–ª—è –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π.\n\n"

    "üìû **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**:\n"
    "–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É \"–ü–æ–¥–¥–µ—Ä–∂–∫–∞\" –Ω–∏–∂–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º."
)

@router.message(Command("help"))
async def cmd_help(message: Message):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help.
    –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–ø—Ä–∞–≤–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
    """
    await message.answer(HELP_TEXT, parse_mode="Markdown", reply_markup=get_main_keyboard())


@router.callback_query(lambda c: c.data == "help")
async def callback_help(callback_query: CallbackQuery):
    """
    Callback-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ '–°–ø—Ä–∞–≤–∫–∞'.
    –í—ã–∑—ã–≤–∞–µ—Ç —Ç—É –∂–µ –ª–æ–≥–∏–∫—É, —á—Ç–æ –∏ –∫–æ–º–∞–Ω–¥–∞ /help.
    """
    await cmd_help(callback_query.message)
    await callback_query.answer()