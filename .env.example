# .env.example
# Шаблон файла конфигурации для проекта snip_assist
# Скопируйте этот файл в .env.local и укажите реальные значения

# --- Telegram Bot ---
# Токен для доступа к Telegram Bot API
TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN_HERE

# --- База данных ---
# URL-адрес для подключения к базе данных (SQLite, PostgreSQL, MySQL и т.д.)
DATABASE_URL=sqlite+aiosqlite:///./users.db
# Пример для PostgreSQL (если используется):
# DATABASE_URL=postgresql+asyncpg://user:password@db:5432/snip_assist_db

# --- Лимиты ---
# Количество бесплатных запросов в день на одного пользователя
FREE_QUERIES_PER_DAY=3

# Максимальная длина текста запроса пользователя (в символах)
MAX_QUERY_LENGTH=500

# --- Admin ---
# Список ID администраторов бота (через запятую, без пробелов)
ADMIN_USER_IDS=123456789,987654321

# --- API Service (для Bot Service) ---
# URL, по которому Bot Service может достучаться до API Service внутри docker-compose сети
API_SERVICE_URL=http://api:8000

# --- RAG Service (для API Service) ---
# URL, по которому API Service может достучаться до RAG Service внутри docker-compose сети
RAG_SERVICE_URL=http://rag:8001

# --- RAG Service Configuration (для сервиса rag) ---
# Директория для хранения данных ChromaDB (внутри контейнера rag)
CHROMA_PERSIST_DIR=./data/chroma
# Имя коллекции в ChromaDB
CHROMA_COLLECTION_NAME=construction_docs
# Имя HuggingFace модели для LLM (для TransformersLLM)
HF_LLM_MODEL_NAME=microsoft/Phi-3-mini-4k-instruct
# Имя HuggingFace модели для эмбеддингов (например, sentence-transformers)
EMBEDDING_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2
# Размер чанка для разбиения документов
CHUNK_SIZE=512
# Перекрытие чанков
CHUNK_OVERLAP=50
# Размер окна контекста LLM
LLM_CONTEXT_WINDOW=4096

# --- API Service Configuration (для сервиса api) ---
# Таймаут для запросов к RAG Service (в секундах)
RAG_REQUEST_TIMEOUT=30.0

# --- RAG Service Configuration (для сервиса rag) ---
# Количество результатов по умолчанию для поиска (top_k)
DEFAULT_TOP_K=5

# --- Дополнительно (опционально) ---
# Уровень логирования (DEBUG, INFO, WARNING, ERROR)
# LOG_LEVEL=INFO
